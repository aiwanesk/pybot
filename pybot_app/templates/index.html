{% extends "layout.html" %}  

{% block form %}

    {% with messages = get_flashed_messages() %}
    {% if messages %}
    <div style="background-color: white">
        {% for message in messages %}
        <p>{{ message }}</p>
        {% endfor %}
    </div>
    {% endif %}
    {% endwith %}

    <div id="mapid"></div>
    <!--<script type="text/javascript">
        var mymap = L.map('mapid').setView({{ latitude }}, {{longitude}});

        L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibXZiLWhkZiIsImEiOiJjams1ZTdlNXQxN3lpM2txcXBlMHM1a3I0In0.T77BUlkk9mb8FDqlKRS3ZA', {
            maxZoom: 18,
            attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, ' +
                '<a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
                'Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',
            id: 'mapbox.streets',
        }).addTo(mymap);
    </script>-->

    <p>Quelle adresse cherches-tu ?</p>
    <form action="" method="POST" novalidate>
        {# Add SECRET_KEY to protect the form with hidden tag #}
        {{ form.hidden_tag() }}
        <p>
            {{ form.address.label }}
            {{ form.address }}
            {% for error in form.address.errors %}
            <span style="color: red; font-weight: bold;">{{ error }}</span>
            {% endfor %}
        </p>
        <p>
            {{ form.submit() }}
        </p>

    </form>
{% endblock %}